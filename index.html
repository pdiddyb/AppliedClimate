<!DOCTYPE html>
<html>

<head>
<title>Hurricane Power Outage Model Map</title> 
  <!-- External Stylesheets (we keep integrity to avoid security issues)-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
      integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
      crossorigin=""/>
  <!-- Add the Leaflet JavaScript library(we keep this at bottom so page loads faster) -->
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
      integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
      crossorigin=""></script>
  <!-- Load Esri Leaflet from CDN -->
    <script src="https://unpkg.com/esri-leaflet@2.1.3/dist/esri-leaflet.js"
      integrity="sha512-pijLQd2FbV/7+Jwa86Mk3ACxnasfIMzJRrIlVQsuPKPCfUBCDMDUoLiBQRg7dAQY6D1rkmCcR8286hVTn/wlIg=="
      crossorigin=""></script>
  <!-- Load Leaflet AJAX -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
  <!-- Load Shapefile -->
    <script src="https://unpkg.com/shpjs@latest/dist/shp.js"></script>
    <script src="http://chapmanrebecca.com/AppliedClimate/HPOM/leaflet.shpfile.js"></script>	
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Load D3 -->
	<script src="https://d3js.org/d3.v5.js"></script>
  <!-- Load jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <!-- Load maprint -->
    <script src="http://chapmanrebecca.com/AppliedClimate/HPOM/bundle.js"></script>
</head>


<body> <!-- Our web map and content will go here -->
<div class="title">
  <h1 align="center"><font face="Arial,Helvetica"><font color="white"><font size="+3">Hurricane Power Outage GeoViewer </font></font></font></h1>	
</div>
<br></br>
<div class="container">
  <div id="list"  align="left"  style="width: 370px" > 
       <h3 style="color:#333399">Map Layers</h3>
	   <select id="mySelect" onchange="getLayer(this.options[this.selectedIndex].value)">
          <option value="current">Current Storm</option>
          <option value="sample">Sample- Harvey(2017)#15</option>
       </select>
	   <br></br>
	   <input type="checkbox" id="myCheck1"  onclick="addLayerToMap(this, track_forecast)"> Forecast Track and Cone 
	   <div class="popup" onclick="popup('myPopup1')"> <i class="fa fa-question-circle-o" style="color:#b3b3cc"></i>
            <span class="popuptext" id="myPopup1">The cone represents the probable track of the center of a tropical cyclone, and is formed by enclosing the area swept out by a set of circles (not shown) along the forecast track (at 12, 24, 36, 48, 72, 96, 120 hours). </span>
       </div>
       <br></br>
	   <input type="checkbox" id="myCheck2"  onclick="addLayerToMap(this, watch_warning)"> Watches and Warnings
	   <div class="popup" onclick="popup('myPopup2')"> <i class="fa fa-question-circle-o" style="color:#b3b3cc"></i>
            <span class="popuptext" id="myPopup2">Coastal areas placed under tropical cyclone watches or warnings are delimited by specific geographical locations known as "breakpoints". This layer consists of one or more lines connecting the breakpoints delimiting any current watches or warnings.</span>
       </div>
	   <br></br>
       <input type="checkbox" id="myCheck3"  onclick="addLayerToMap2(this,Psurge)"> Probabilistic Storm Surge 
	   <div class="popup" onclick="popup('myPopup3')"> <i class="fa fa-question-circle-o" style="color:#b3b3cc"></i>
            <span class="popuptext" id="myPopup3">The probability, in percent, of a specified storm surge, including tides, exceeding the specified height, in feet, during the forecast period indicated.</span>
       </div>
       <br></br>
       <input type="checkbox" id="myCheck4"  onclick="addLayerToMap2(this,Pwind34)"> 34Kt Wind Speed Probabilities
	   <div class="popup" onclick="popup('myPopup4')"> <i class="fa fa-question-circle-o" style="color:#b3b3cc"></i>
            <span class="popuptext" id="myPopup4">The 34 knot, 120 hour cumulative wind speed probabilities show probabilities of sutained (1-minute average) surface (10-meter altitude) wind speeds equal to or exceeding 34 kt /39 mph at a regulary spaced (5 km) grid of points. </span>
       </div>
	   <br></br>
       <input type="checkbox" id="myCheck5"  onclick="addLayerToMap2(this,Pwind50)"> 50Kt Wind Speed Probabilities
	   <div class="popup" onclick="popup('myPopup5')"> <i class="fa fa-question-circle-o" style="color:#b3b3cc"></i>
            <span class="popuptext" id="myPopup5">The 50 knot, 120 hour cumulative wind speed probabilities show probabilities of sutained (1-minute average) surface (10-meter altitude) wind speeds equal to or exceeding 50 kt /58 mph at a regulary spaced (5 km) grid of points. </span>
       </div>
	   <br></br>
       <input type="checkbox" id="myCheck6"  onclick="addLayerToMap2(this,Pwind64)"> 64Kt Wind Speed Probabilities
	   <div class="popup" onclick="popup('myPopup6')"> <i class="fa fa-question-circle-o" style="color:#b3b3cc"></i>
            <span class="popuptext" id="myPopup6">The 64 knot, 120 hour cumulative wind speed probabilities show probabilities of sutained (1-minute average) surface (10-meter altitude) wind speeds equal to or exceeding 64 kt /74 mph at a regulary spaced (5 km) grid of points. </span>
       </div>
	   <p><a href="https://www.nhc.noaa.gov/gis/">View meta data</a></p>
       <br></br>	 
       
	   
	   <h3 style="color:#333399">Export Files</h3>
	   <input type="checkbox" id="EF1"  onclick="FunctionEF1()"> Original HPOM Output (.csv)
	   <br></br>
	   <input type="checkbox" id="EF2"  onclick="FunctionEF2()"> Merged HPOM Output and Tract ID (.geojson)
	   <br></br>
       
	   
	   <button onclick="download()">Download</button>
	   <h3 style="color:#333399">Search Tract to Show Results</h3>
	   <input id="ID" type="text" placeholder="Search.." name="search">
       <button type="button" onclick="search()" ><i class="fa fa-search"></i></button>
        
  </div>
     
  <div id="mapid" style="width: 1000px; height: 620px; margin-left:0px; margin-right:auto; position:relative; z-index: 1 "></div> 
</div>

<script type="text/javascript"src="index.js"></script>
</body>

</html>

